[[virt-nutanix]]
= Nutanix를 이용한 가상화

ifeval::[{suma-content} == true]

{suse}는 Nutanix 에코시스템 파트너이며, SUSE Manager는 \Nutanix AHV 통합\ 범주에서 Nutanix 지원 인증을 획득하였습니다.

Nutanix 통합에 대한 자세한 내용은 https://www.nutanix.com/partners/technology-alliances/suse를 참조하십시오.

image::nutanix-ready.png[scaledwidth=20%]

endif::[]

가상 호스트 관리자(VHM)를 설정하여 {productname}에서 Nutanix AHV 가상 머신을 사용할 수 있습니다. 먼저 {productname} 서버에서 VHM을 설정하고 사용 가능한 VM 호스트를 목록에 포함해야 합니다.



== VHM 설정


가상 호스트 관리자(VHM)는 {productname} 서버에서 실행됩니다.

{productname} 서버에 [systemitem]``virtual-host-gatherer-Nutanix`` 패키지를 설치했는지 확인하십시오.

VHM을 실행하려면 {productname} 서버가 포트 9440을 열어 Nutanix Prism Element API에 액세스해야 합니다.


.절차: Nutanix VHM 생성

. {productname} {webui}에서 menu:시스템[가상 호스트 관리자]로 이동합니다.
. btn:[생성]을 클릭하고 [guimenu]``Nutanix AHV``를 선택합니다.
. [guimenu]``Nutanix AHV 가상 호스트 관리자 추가`` 섹션에서 다음과 같은 파라미터를 사용합니다.
* [guimenu]``레이블`` 필드에 VHM의 사용자 정의 이름을 입력합니다.
* [guimenu]``호스트 이름`` 필드에 전체 도메인 이름(FQDN) 또는 호스트 IP 주소를 입력합니다.
* [guimenu]``포트`` 필드에 사용할 Prism Element API 포트를 입력합니다(예: [parameter]``9440``).
* [guimenu]``사용자 이름`` 필드에 VM 호스트와 연결된 사용자 이름을 입력합니다.
* [guimenu]``사용자 이름`` 필드에 VM 호스트 사용자와 연결된 비밀번호를 입력합니다.
. btn:[생성]을 클릭하여 변경 사항을 저장하고 VHM을 생성합니다.
. [guimenu]``가상 호스트 관리자`` 페이지에서 새 VHM을 선택합니다.
. [guimenu]``등록 정보`` 페이지에서 btn:[데이터 새로 고침]을 클릭하여 새 VHM을 목록에 포함합니다.

어떤 객체 및 리소스가 목록에 포함되었는지 확인하려면 menu:시스템[시스템 목록 > 가상 시스템]으로 이동하십시오.


[NOTE]
====
HTTPS를 사용해 브라우저에서 Nutanix Prism API 서버에 연결하면 때로 ``잘못된 인증서`` 오류가 로깅될 수 있습니다. 이런 오류가 발생하는 경우 가상 호스트 관리자에서 데이터를 새로 고침하는 작업이 실패합니다. 유효한 SSL 인증서(자체 서명되지 않음)가 Nutanix API 서버에 필요합니다. Nutanix SSL 인증서에 대해 사용자 정의 CA(인증 주체)를 사용 중인 경우 사용자 정의 CA 인증서를 {productname} 서버의 [path]``/etc/pki/trust/anchors``로 복사하십시오. 명령줄에서 [command]``update-ca-certificates`` 명령을 실행하여 인증서를 다시 신뢰하고 spacewalk 서비스를 다시 시작합니다.
====

taskomatic은 VHM을 생성하여 구성한 후 데이터 수집을 자동으로 실행합니다. 데이터 수집을 수동으로 수행하려면 menu:시스템[가상 호스트 관리자]로 이동하여 적절한 VHM을 선택한 후 btn:[데이터 새로 고침]을 클릭합니다.

{productname}는 API를 사용해 VHM에 연결하고 가상 호스트에 대한 정보를 요청할 수 있는 [command]``virtual-host-gatherer``라고 하는 도구와 함께 제공됩니다. [command]``virtual-host-gatherer``는 각 모듈이 특정 VHM을 활성화하는 옵션 모듈의 개념을 유지합니다.. 이 도구는 Taskomat이 야간에 자동으로 호출합니다. [command]``virtual-host-gatherer`` 도구의 로그 파일은 [path]``/var/log/rhn/gatherer.log``에 있습니다.
