[[client-upgrades-spmigration]]
= Product Migration

Product migration allows you to upgrade SLE-based client systems from an Service Pack (SP) level to a later one. For example, you can migrate {sle}{nbsp}15{nbsp}SP1 to {sle}{nbsp}15{nbsp}SP2.

You can also migrate openSUSE Leap to a later minor version or to the corresponding SLE SP level, for example:

* openSUSE Leap 15.1 to 15.2, or
* openSUSE Leap 15.1 to {sle} 15 SP1, or
* openSUSE Leap 15.2 to {sle} 15 SP2

[WARNING]
====
During migration, {productname} automatically accepts any required licenses (EULAs) before installation.
====

In {sle}{nbsp}12 and later, {suse} supports service pack skipping if {scc} provides it. For example, you can upgrade from {sle}{nbsp}15 to SP2, without installing SP1. For supported {sle} upgrade paths, see https://documentation.suse.com/sles/15-SP2/html/SLES-all/cha-upgrade-paths.html#sec-upgrade-paths-supported.



[IMPORTANT]
====
Product migration is for upgrading within the same major version. You cannot use product migration to migrate from {sle}{nbsp}12 to {sle}{nbsp}15. For more information about major upgrades, see xref:client-configuration:client-upgrades-major.adoc[].
====


[WARNING]
====
Product migration does not have a rollback feature. When the migration procedure has begun, rolling back is not possible. Ensure you have a working system backup available, in case of an emergency.
====



.절차: 마이그레이션 수행
. menu:시스템[개요] 페이지에서 클라이언트를 선택합니다.
. From the system details page of the client, navigate to the menu:Software[Product Migration] tab.
. 대상 마이그레이션 경로를 선택하고 btn:[채널 선택]을 클릭합니다.
. From the [guimenu]``Product Migration - Channels`` page select the correct base channel, including ``Mandatory Child Channels`` and any additional ``Optional Child Channels``.
. 옵션: [guimenu]``제조업체 변경 허용`` 확인란을 선택하여 제조업체를 변경한 패키지가 설치되도록 허용합니다. 이렇게 하면 마이그레이션이 시작되기 전에 알림이 상세 정보와 함께 표시됩니다.
+
[IMPORTANT]
====
To migrate openSUSE Leap to {sle}, you must check the [guimenu]``Allow Vendor Change`` option.
====
. 채널이 적절히 구성되었으면 btn:[마이그레이션 예약]을 클릭합니다.



== Product Mass Migration

다수의 클라이언트를 다음 SP 버전으로 마이그레이션하고 싶은 경우 {productname} API 호출을 사용하면 됩니다.



.Procedure: Performing a Product Mass Migration
. 다음과 같이 사용 가능한 마이그레이션 대상을 나열하고, 마이그레이션하려는 시스템 ID를 적어 둡니다.
+
----
spacecmd api -- system.listMigrationTargets -A 1000010001
----
. 각 시스템 ID에 대해 [systemitem]``listMigrationTarget``을 호출하고 원하는 대상 제품이 사용 가능한지 확인합니다.
+
* If the system ID has an available target, call [systemitem]``system.scheduleProductMigration``.
* 원하는 대상을 사용할 수 없는 경우 시스템을 건너뛰십시오.

다음 템플릿을 환경에 맞게 조정하십시오.

----
target = '[....]'
basechannel = 'channel-label'
 system_ids = [1, 2, 3]

session = auth.login(user, pass)
for system in system_ids
  if system.listMigrationTargets(session, system).ident == target
    system.scheduleProductMigration(session, system, target, basechannel, [], False, <now>)
  else
    print "Cannot migrate to requested target -- skipping system"
  endif
endfor
----

