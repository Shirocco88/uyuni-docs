[[clients-ubuntu-old]]
= {ubuntu} 16.04 및 18.04 클라이언트 등록

이 섹션에는 {ubuntu} 16.04 LTS, 18.04 LTS 운영 체제를 실행하는 Salt 클라이언트를 등록하는 방법에 대한 정보가 포함되어 있습니다.

ifeval::[{suma-content} == true]

{productname}는 Salt를 사용하는 {ubuntu} 16.04 LTS, 18.04 LTS, 20.04 LTS 클라이언트를 지원합니다. {ubuntu} 20.04를 실행하는 Salt 클라이언트를 등록하는 방법에 대한 정보는 xref:client-configuration:clients-ubuntu.adoc[]를 참조하십시오.

endif::[]

ifeval::[{uyuni-content} == true]

{productname}는 Salt를 사용하는 {ubuntu} 16.04 LTS 및 18.04 LTS 클라이언트를 지원합니다.

endif::[]

[IMPORTANT]
====
Canonical은 {productname}를 지지하거나 지원하지 않습니다.
====

[NOTE]
====
Salt 클라이언트에 대해서만 {ubuntu}을 지원합니다. 기존 클라이언트는 지원하지 않습니다.
====

부트스트래핑은 {ubuntu} 클라이언트 시작과 초기 상태 실행 수행(예: 리포지토리 설정, 프로파일 업데이트 수행)에 대해 지원됩니다. 하지만 {ubuntu}의 루트 사용자는 기본적으로 비활성화되므로 부트스트래핑을 사용하려면 Python에 대한 [command]``sudo`` 권한이 있는 기존 사용자가 필요합니다.



== 소프트웨어 채널 추가

{ubuntu} 클라이언트를 {productname} 서버에 등록하기 전에 필요한 소프트웨어 채널을 추가하고 이 채널을 동기화해야 합니다.

ifeval::[{suma-content} == true]

이 절차에 필요한 제품은 다음과 같습니다.

[[ubuntu-old-channels-wizard]]
[cols="1,1", options="header"]
.Ubuntu 제품 - WebUI
|===
| OS 버전     | 제품 이름
| {ubuntu} 16.04 | Ubuntu 16.04
 | {ubuntu} 18.04 | Ubuntu 18.04
|===

include::snippets/addchannels_vendor_webui.adoc[]

또는 명령 프롬프트에서 채널을 추가할 수 있습니다. 이 절차에 필요한 채널은 다음과 같습니다.

[[ubuntu-old-channels-cli]]
[cols="1,1", options="header"]
.Ubuntu 채널 - CLI
|===
| OS 버전 | 기본 채널
| {ubuntu} 16.04 | ubuntu-16.04-pool-amd64
 | {ubuntu} 18.04 | ubuntu-18.04-pool-amd64
|===

include::snippets/addchannels_vendor_cli.adoc[]

endif::[]

ifeval::[{suma-content} == true]

이 절차에 필요한 채널은 다음과 같습니다.

[[ubuntu-old-channels-cli-suma]]
[cols="1,1,1,1", options="header"]
.Ubuntu 채널 - CLI
|===

| OS 버전
| 주 채널
 | 보안 채널
 | 업데이트 채널
 
 | {ubuntu} 16.04
 | ubuntu-1604-amd64-main
 | ubuntu-1604-amd64-security
 | ubuntu-1604-amd64-updates
 
 | {ubuntu} 18.04
 | ubuntu-1804-amd64-main
 | ubuntu-1804-amd64-main-security
 | ubuntu-1804-amd64-main-updates

|===

include::snippets/addchannels_novendor_cli.adoc[]

이 방법을 사용해 추가되는 채널은 정기적으로 동기화되지 않도록 기본 설정되어 있습니다. {productname} {webui}를 사용해 동기화 일정을 구성할 수 있습니다. menu:소프트웨어[관리 > 채널]로 이동하여 추가한 채널을 클릭하고 menu:리포지토리[동기화] 하위 탭을 선택합니다. 매일 또는 매주 동기화 일정을 설정하고 btn:[일정]을 클릭합니다.


[NOTE]
====
[command]``spacewalk-common-channels``가 제공하는 클라이언트 도구 채널은 {suse}가 아닌 {uyuni}가 공급합니다.
====

endif::[]

ifeval::[{uyuni-content} == true]

이 절차에 필요한 채널은 다음과 같습니다.
[[ubuntu-old-channels-cli-uyuni]]
[cols="1,1,1,1,1,1,1,1", options="header"]
.Ubuntu 채널 - CLI
|===

| OS Version
| Base Channel
| Main Channel
| Updates Channel
| Security Channel
| Universe Channel
| Universe Updates Channel
| Universe Security Updates Channel
| Client Channel

| {ubuntu} 16.04
| ubuntu-1604-pool-amd64-uyuni
| ubuntu-1604-amd64-main-uyuni
| ubuntu-1604-amd64-updates-uyuni
| ubuntu-1604-amd64-security-uyuni
| ubuntu-1604-amd64-universe-uyuni
| ubuntu-1604-amd64-universe-updates-uyuni
| ubuntu-1604-amd64-universe-security-uyuni
| ubuntu-1604-amd64-uyuni-client

| {ubuntu} 18.04
| ubuntu-1804-pool-amd64-uyuni
| ubuntu-1804-amd64-main-uyuni
| ubuntu-1804-amd64-main-updates-uyuni
| ubuntu-1804-amd64-main-security-uyuni
| ubuntu-1804-amd64-universe-uyuni
| ubuntu-1804-amd64-universe-updates-uyuni
| ubuntu-1804-amd64-universe-security-uyuni
| ubuntu-1804-amd64-uyuni-client

|===

include::snippets/add_channels_cli.adoc[]

[IMPORTANT]
====
Ubuntu 클라이언트를 부트스트래핑하기 전에 Universe(Universe에는 Salt에 대한 중요 종속성이 포함되어 있음)를 비롯한 모든 새 채널을 완전히 동기화해야 합니다.
====

endif::[]



== 동기화 상태 확인

ifeval::[{suma-content} == true]

include::snippets/check_sync_webui_suma.adoc[]

endif::[]

ifeval::[{uyuni-content} == true]

include::snippets/check_sync_webui_uyuni.adoc[]

endif::[]

include::snippets/check_sync_cli.adoc[]

[NOTE]
====
{ubuntu} 채널은 규모가 매우 클 수 있습니다. 때로 동기화에 몇 시간이 걸릴 수 있습니다.
====



ifeval::[{uyuni-content} == true]
== 클라이언트의 GPG 키 신뢰

include::snippets/trust_gpg.adoc[]

endif::[]



== 루트 액세스

{ubuntu}의 루트 사용자는 기본적으로 비활성화되어 있습니다. [filename]``sudoers`` 파일을 편집하여 활성화할 수 있습니다.

.절차: 루트 사용자에게 액세스 권한 부여

. 클라이언트에서 다음과 같이 [filename]``sudoers`` 파일을 편집합니다.
+
----
sudo visudo
----
+
이 줄을 [filename]``sudoers`` 파일 끝에 추가하여 사용자에게 [command]``sudo`` 액세스 권한을 부여합니다. 다음과 같이 [systemitem]``<user>``를 {webui}에서 클라이언트를 부트스트래핑하고 있는 사용자의 이름으로 교체합니다.
+
----
<user>  ALL=NOPASSWD: /usr/bin/python, /usr/bin/python2, /usr/bin/python3
----

[NOTE]
====
이 절차는 클라이언트 등록에 필요한 비밀번호가 없어도 루트에 액세스 권한을 부여합니다. 클라이언트는 성공적으로 설치된 후 루트 권한으로 실행되므로 액세스 권한이 더 이상 필요 없습니다. 클라이언트가 성공적으로 설치된 후 [path]``sudoers`` 파일에서 이 줄을 제거하는 것이 좋습니다.
====



== 클라이언트 등록

{ubuntu} 클라이언트를 등록하려면 부트스트랩 리포지토리가 필요합니다. 기본적으로 부트스트랩 리포지토리는 자동으로 생성되며 동기화된 모든 제품에 대해 매일 재생성됩니다. 명령 프롬프트에서 다음 명령을 사용해 부트스트랩 리포지토리를 수동으로 생성할 수 있습니다.

----
mgr-create-bootstrap-repo
----

클라이언트 등록에 대한 자세한 내용은 xref:client-configuration:registration-overview.adoc[]를 참조하십시오.
