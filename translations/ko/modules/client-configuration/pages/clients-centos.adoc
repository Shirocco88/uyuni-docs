[[clients-centos]]
= {centos} 클라이언트 등록

이 섹션에는 {centos} 운영 체제를 실행하는 기존 및 Salt 클라이언트를 등록하는 방법에 대한 정보가 포함되어 있습니다.

[IMPORTANT]
====
{centos} 클라이언트는 {centos}에 기반을 두고 있으며 {sleses}, RES, {redhat} 또는 {es}와는 무관합니다. 사용자는 {centos} 기본 미디어 리포지토리 및 {centos} 설치 미디어에 대한 액세스를 정렬할 뿐 아니라 {productname} 서버를 {centos} 컨텐트 제공 네트워크에 연결할 책임이 있습니다.
====

[NOTE]
====
기존 클라이언트는 {centos}{nbsp}8에서 사용할 수 없습니다. {centos}{nbsp}8 클라이언트는 Salt 클라이언트로만 지원됩니다.
====

[NOTE]
====
{centos} 클라이언트를 {productname}에 등록하는 기능은 ``목표`` 정책으로 ``강제``하는 기본 SELinux 구성으로 테스트됩니다. SELinux를 비활성화해야 {centos} 클라이언트를 {productname}에 등록할 수 있는 것은 아닙니다.
====



== 소프트웨어 채널 추가

{centos} 클라이언트를 {productname} 서버에 등록하려면 먼저 필요한 소프트웨어 채널을 추가하고 이 채널을 동기화해야 합니다.

ifeval::[{suma-content} == true]

이 절차에 필요한 제품은 다음과 같습니다.

[[centos-channels-wizard]]
[cols="1,1", options="header"]
.CentOS 제품 - WebUI
|===
| OS 버전 | 제품 이름
| {centos} 6 | CentOS 6 x86_64
 | {centos} 7 | CentOS 7 x86_64
 | {centos} 8 | CentOS 8 x86_64
|===

[NOTE]
====
{centos} 6 is now at end-of-life, and the ISO images provided in the repository are out of date. Bootstrapping new {centos} 6 clients using these packages will fail. If you need to bootstrap new {centos} 6 clients, follow the troubleshooting procedure in xref:client-configuration:tshoot-clients.adoc[].
====

include::snippets/addchannels_vendor_webui.adoc[]

또는 명령 프롬프트에서 채널을 추가할 수 있습니다. 이 절차에 필요한 채널은 다음과 같습니다.

[[centos-channels-suma-cli]]
[cols="1,1", options="header"]
.CentOS 채널 - CLI
|===
| OS 버전 | 기본 채널
| {centos} 6 | centos6-x86_64
 | {centos} 7 | centos7-x86_64
 | {centos} 8 | centos8-x86_64
|===

[NOTE]
====
{centos} 6 is now at end-of-life, and the ISO images provided in the repository are out of date. Bootstrapping new {centos} 6 clients using these packages will fail. If you need to bootstrap new {centos} 6 clients, follow the troubleshooting procedure in xref:client-configuration:tshoot-clients.adoc[].
====

include::snippets/addchannels_vendor_cli.adoc[]

endif::[]

ifeval::[{uyuni-content} == true]
이 절차에 필요한 채널은 다음과 같습니다.

[[centos-channels-uyuni-cli]]
[cols="1,1,1,1", options="header"]
.CentOS 채널 - CLI
|===
| OS Version | Base Channel | Client Channel       | Updates/Appstream Channel
| {centos} 6 | centos6      | centos6-uyuni-client | centos6-updates
| {centos} 7 | centos7      | centos7-uyuni-client | centos7-updates
| {centos} 8 | centos8      | centos8-uyuni-client | centos8-appstream
|===

[NOTE]
====
{centos} 6 is now at end-of-life, and the ISO images provided in the repository are out of date. Bootstrapping new {centos} 6 clients using these packages will fail. If you need to bootstrap new {centos} 6 clients, follow the troubleshooting procedure in xref:client-configuration:tshoot-clients.adoc[].
====

include::snippets/addchannels_novendor_cli_multiarch.adoc[]

[NOTE]
====
[command]``spacewalk-common-channels``가 제공하는 클라이언트 도구 채널은 {suse}가 아닌 {uyuni}가 공급합니다.
====

endif::[]


[IMPORTANT]
====
{centos} 8 클라이언트의 경우 기본 채널과 AppStream 채널을 모두 추가하십시오. 사용자에게는 두 채널의 패키지가 모두 필요합니다. 두 채널을 모두 추가하지 않으면 패키지가 누락되어 부트스트랩 리포지토리를 생성할 수 없습니다.
====


[NOTE]
====
AppStream 채널에서 사용할 수 있는 패키지의 수가 업스트림과 {productname} 채널 간에 서로 약간 불일치함을 알 수 있습니다. 또한 다른 시점에 추가한 동일 채널을 비교하면 그 수가 다른 것을 알 수 있습니다. 이는 {centos}가 리포지토리를 관리하는 방식에 원인이 있습니다. {centos}는 새 버전이 릴리스되면 이전 버전의 패키지를 제거하지만 {productname}는 사용 기간과 관계없이 모두 그대로 유지합니다.
====


include::snippets/appstream_admon.adoc[]


== 동기화 상태 확인

ifeval::[{suma-content} == true]

include::snippets/check_sync_webui_suma.adoc[]

endif::[]


ifeval::[{uyuni-content} == true]

include::snippets/check_sync_webui_uyuni.adoc[]

endif::[]


include::snippets/check_sync_cli.adoc[]



== 활성화 키 생성

{centos} 채널에 연결된 활성화 키를 생성해야 합니다.

활성화 키에 대한 자세한 내용은 xref:client-configuration:activation-keys.adoc[]를 참조하십시오.



ifeval::[{uyuni-content} == true]

== 클라이언트의 GPG 키 신뢰

include::snippets/trust_gpg.adoc[]

endif::[]



== 클라이언트 등록

{centos} 클라이언트는 기타 모든 클라이언트와 동일한 방식으로 등록됩니다. 자세한 내용은 xref:client-configuration:registration-overview.adoc[]를 참조하십시오.


[WARNING]
====
{centos}{nbsp}6 클라이언트를 등록하고 사용하려면 {productname} 서버가 이전 형식의 SSL 암호화를 지원하도록 구성해야 합니다. 이 오류를 해결하는 방법에 대한 자세한 내용은 xref:client-configuration:tshoot-clients.adoc[]에서 ``이전 클라이언트 등록``을 참조하십시오.
====



== 정오표 관리

{centos} 클라이언트를 업데이트할 때 패키지에는 업데이트에 대한 메타데이터가 포함되지 않습니다. 타사 정오표 서비스를 사용해 이 정보를 얻을 수 있습니다.

[WARNING]
====

ifeval::[{suma-content} == true]

여기에서 설명한 타사 정오표 서비스인 CEFS는 커뮤니티가 제공하고 유지합니다. CEFS는 {suse}가 지원하지 않습니다.

endif::[]

CEFS의 원저자는 도움이 됐으면 하는 마음으로 최선을 다해 패치나 정오표를 제공하지만 정확성이나 최신 상태를 보장하지는 않습니다. 따라서 패치 날짜가 부정확할 수 있습니다. 한번은 게시 날짜가 한 달 이상 늦은 날짜로 표시된 적도 있습니다. 이러한 경우에 대한 자세한 내용은 https://github.com/stevemeier/cefs/issues/28#issuecomment-656579382 및 https://github.com/stevemeier/cefs/issues/28#issuecomment-656573607을 참조하십시오.

패치 데이터 관련 문제나 지연으로 인해 {productname} 서버로 신뢰할 수 없는 패치 정보가 임포트될 수 있습니다. 이로 인해 보고서, 감사, CVE 업데이트 또는 기타 패치 관련 정보가 부정확해질 수도 있습니다. 패치 데이터를 독립적으로 확인하거나 보안 관련 요구사항 및 인증 기준에 따라 다른 운영 체제를 선택하는 등 이 서비스 사용을 대체할 수 있는 수단을 고려해 보시기 바랍니다.
====




.절차: 정오표 서비스 설치

. {productname} 서버의 명령 프롬프트에서 루트 권한으로 다음과 같이 ``sle-module-development-tools`` 모듈을 추가합니다.
+
----
SUSEConnect --product sle-module-development-tools/15.2/x86_64
----
. 다음과 같이 정오표 서비스 종속성을 설치합니다.
+
----
zypper in  perl-Text-Unidecode
----
. [path]``/etc/rhn/rhn.conf``에서 다음과 같은 줄을 추가하거나 편집합니다.
+
----
java.allow_adding_patches_via_api =  centos7-updates-x86_64,centos7-x86_64,centos7-extras-x86_64
----
. 다음과 같이 Tomcat을 다시 시작합니다.
----
systemctl restart tomcat
----
. 다음과 같이 정오표 스크립트에 대해 파일을 생성합니다.
+
----
touch /usr/local/bin/cent-errata.sh
----
. 이 스크립트를 포함할 새 파일을 편집하고, 필요에 따라 리포지토리 상세 정보를 편집합니다.
    이 스크립트는 외부 정오표 서비스에서 정오표 상세 정보를 가져와 압축을 풀고 상세 정보를 게시합니다.
+
----
#!/bin/bash
mkdir -p /usr/local/centos
 cd /usr/local/centos
 rm *.xml
 wget -c http://cefs.steve-meier.de/errata.latest.xml
 #wget -c https://www.redhat.com/security/data/oval/com.redhat.rhsa-all.xml
 wget -c  https://www.redhat.com/security/data/oval/com.redhat.rhsa-RHEL7.xml
 wget -c http://cefs.steve-meier.de/errata-import.tar
 tar xvf errata-import.tar
 chmod +x /usr/local/centos/errata-import.pl
 export SPACEWALK_USER='<adminname>';export SPACEWALK_PASS='<password>'
 /usr/local/centos/errata-import.pl --server '<servername>' \
 --errata /usr/local/centos/errata.latest.xml  \
 --include-channels=centos7-updates-x86_64,centos7-x86_64,centos7-extras-x86_64  \
 --publish --rhsa-oval /usr/local/centos/com.redhat.rhsa-RHEL7.xml
----
. 다음과 같이 cron 작업을 설정하여 매일 스크립트를 실행합니다.
+
----
ln -s /usr/local/bin/cent-errata.sh /etc/cron.daily
----

이 도구에 대한 자세한 내용은 https://cefs.steve-meier.de/를 참조하십시오.
