[[server-y-yast]]
= 서버 - {yast}를 사용한 부 버전 업그레이드

{yast}를 사용하여 업그레이드하려면 온라인 마이그레이션 도구를 사용하십시오.

[NOTE]
====
{yast}에 사용할 수 있는 온라인 마이그레이션 도구가 없는 경우 [package]``yast2-migration`` 패키지 및 필요한 모든 패키지를 설치합니다. 설치한 후 {yast}를 재시작하여 {yast}에서 도구를 사용할 수 있도록 합니다.
====


[NOTE]
====
{productname} 4.0에서 4.2로 업그레이드하는 경우 게시되지 않은 패키지가 없는지 확인합니다. menu:패치[패치 관리 > 게시되지 않음]으로 이동하여 게시되지 않은 패키지를 확인합니다. 해당 패키지를 게시하거나 삭제한 후 업그레이드해야 합니다.
====



.절차: {yast}를 사용한 업그레이드

. 명령 프롬프트에서 root로 Spacewalk 서비스가 실행되고 있지 않은지 확인합니다.
+
----
spacewalk-service stop
----
+
. {yast} 온라인 마이그레이션 도구를 실행합니다.
+
----
yast2 migration
----
+
사용할 수 있는 기존 업데이트가 있는 경우 {yast}에서 사용자에게 알리고 먼저 설치할 것을 요청합니다. 모든 패키지 업데이트를 설치한 후 마이그레이션을 수행해야 합니다. 자세한 내용은 xref:upgrade:server-z.adoc[]를 참조하십시오.
+
{yast}에 가능한 마이그레이션 대상과 함께 자세한 요약 정보가 표시됩니다.
. 적절한 대상을 선택하고 프롬프트를 따라 마이그레이션을 완료합니다.
. 서버를 재부팅합니다.
. 재부팅되면, PostgreSQL 데이터베이스가 버전{nbsp}13으로 마이그레이션될 때까지 {productname} Spacewalk 서비스가 실행되지 않습니다.
. 텍스트 콘솔에 root로 로그인하고 4.1에서 4.2로 업그레이드하는 경우 데이터베이스 마이그레이션 스크립트를 실행합니다.
+
----
/usr/lib/susemanager/bin/pg-migrate-12-to-13.sh
----
. 4.0에서 4.2로 업그레이드하는 경우 데이터베이스 마이그레이션 스크립트 실행:
+
----
/usr/lib/susemanager/bin/pg-migrate-10-to-13.sh
----
. Spacewalk 서비스가 실행 중인지 확인합니다.
+
----
spacewalk-service start
----
+
[NOTE]
====
[command]``spacewalk-schema-upgrade``는 더 이상 필요하지 않습니다. [command]``spacewalk-service start`` 중에 자동으로 실행됩니다.
====


업그레이드 중 {yast}가 모든 권장 패키지를 설치합니다. 이 작업으로 인해 시스템의 설치 크기가 크게 증가할 수 있습니다. 필수 패키지만 설치하려면 [path]``/etc/zypp/zypp.conf`` 구성 파일을 열고 변수를 다음과 같이 설정하십시오.

----
solver.onlyRequires = true
installRecommends = false
----

이 작업으로 모든 향후 패키지 작업의 동작이 변경됩니다.
