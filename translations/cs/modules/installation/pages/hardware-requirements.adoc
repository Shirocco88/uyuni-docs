[[install-hardware-requirements]]
= Požadavky na hardware

ifeval::[{suma-content} == true]
Tato tabulka uvádí hardwarové a softwarové požadavky na {productname} Server a Proxy na architektuře {x86_64} a {ppc64le}.
endif::[]

ifeval::[{uyuni-content} == true]
Tato tabulka uvádí hardwarové a softwarové požadavky na {productname} server a proxy na architektuře {x86_64}.
endif::[]

ifeval::[{suma-content} == true]
Hardwarové požadavky pro server {ibmz} najdete na xref:installation:install-ibmz.adoc[].
endif::[]

Hardwarové požadavky pro {productname} {smr} viz xref:retail:retail-requirements.adoc[].



[[server-hardware-requirements]]
== Požadavky na hardware serveru

{productname} Server ukládá balíčky do adresáře [path]``/var/spacewalk/``. Synchronizace úložiště selže, pokud v tomto adresáři dojde místo na disku. Na základě klientů a úložišť, které/která plánujete zrcadlit, můžete odhadnout, kolik místa vyžaduje adresář [path]``/var/spacewalk/``.



[cols="1,1,1", options="header"]
.Hardwarové požadavky na server s architekturou {x86_64}
|===

| Hardware
| Podrobnosti
| Doporučení

| CPU
| -
| Minimum 4 64-bitová jádra CPU jen k tomuto účelu

| RAM
| Testový server
| Minimum 8{nbsp}GB

|
| Základní instalace
| Minimum 16{nbsp}GB

|
| Provozní server
| Minimum 32{nbsp}GB

| Diskový prostor
| [path]``/`` (kořenový adresář)
| Minimum 24{nbsp}GB

|
| [path]``/var/lib/pgsql``
| Minimum 50{nbsp}GB

|
| [path]``/var/spacewalk``
| Minimum 50{nbsp}GB na produkt {suse} a 360{nbsp}GB na produkt Red Hat

|
| [path]``/var/cache``
| Minimum 10{nbsp}GB.
Přidat 100{nbsp}MB na produkt {suse}, 1{nbsp}GB na produkt Red Hat nebo jiný.
Zdvojnásobit, je-li server ISS Master.

|
| Odkládací prostor
| 3{nbsp}GB

|===


Další informace o synchronizaci mezi servery (inter-server synchronization, ISS) najdete na stránce xref:administration:iss.adoc[].



ifeval::[{suma-content} == true]
[cols="1,1,1", options="header"]
.Hardwarové požadavky na server pro architekturu IBM POWER8 nebo POWER9
|===

| Hardware
| Podrobnosti
| Doporučení

| CPU
|
| Min. 4 jádra jen pro tento účel

| RAM
| Testový server
| Minimum 8{nbsp}GB

|
| Základní instalace
| Minimum 16{nbsp}GB

|
| Provozní server
| Minimum 32{nbsp}GB

| Diskový prostor
| [path]``/`` (kořenový adresář)
| Minimum 100{nbsp}GB

|
| [path]``/var/lib/pgsql``
| Minimum 50{nbsp}GB

|
| [path]``/var/spacewalk``
| Minimum 50{nbsp}GB na produkt SUSE a 360{nbsp}GB na produkt Red Hat

|
| [path]``/var/cache``
| Minimum 10{nbsp}GB.
Přidat 100{nbsp}MB na produkt {suse}, 1{nbsp}GB na produkt Red Hat nebo jiný.
Zdvojnásobit, je-li server ISS Master.

|
| Odkládací prostor
| 3{nbsp}GB

|===



endif::[]




== Hardwarové požadavky na proxy server

[cols="1,1,1", options="header"]
.Hardwarové požadavky na proxy server
|===

| Hardware
| Podrobnosti
| Doporučení

| CPU
|
| Min. 2 64-bit CPU jádra jen pro tento účel

| RAM
| Testový server
| Minimum 2{nbsp}GB

|
| Provozní server
| Minimum 8{nbsp}GB

| Diskový prostor
| [path]``/`` (kořenový adresář)
| Minimum 24{nbsp}GB

|
| [path]``/srv``
| Minimum 100{nbsp}GB

|
| [path]``/var/cache`` (Úložiště/keš balíčků)
| Minimum 100{nbsp}GB

|===


{productname} Proxy ukládá balíčky do adresáře [path]``/var/cache/``. Není-li v [path]``/var/cache/`` k dispozici dostatek místa, proxy server odebere staré a nepoužívané balíčky a nahradí je novějšími.

V důsledku tohoto chování:

* Čím větší adresář [path]``/var/cache/`` je na proxy serveru, tím menší provoz bude mezi ním a provozním serverem {productname}.
* Vytvořením adresáře [cesta] ``/var/cache/`` na serveru proxy o stejné velikosti jako [cesta]``/var/spacewalk/`` na serveru {productname} se vyhnete velkému provozu po první synchronizaci.
* Adresář [path]``/var/cache/`` může být na serveru {productname} menší než na proxy.
    Průvodce odhadem velikosti najdete v části <<server-hardware-requirements>> (hardwarové požadavky na server).



== Úložná zařízení a oprávnění

Doporučujeme, aby úložiště a databáze produktu {productname} byly uloženy na samostatných úložných zařízeních. Tím se můžete vyhnout ztrátě dat. Úložná zařízení musíte nastavit před spuštěním procesu instalace YaST {productname}.

{productname} vyžaduje tři různé svazky:

* Svazek s databází: [path]``/var/lib/pgsql``
* Svazek kanálu: [path]``/var/spacewalk``
* Vyrovnávací paměť (keš): [path]``/var/cache``

Doporučujeme použít XFS jako typ souborového systému pro všechny svazky. U místních instalací zvažte použití správy logického svazku (LVM) ke správě disků. Velikost disku pro paměť úložišť závisí na počtu distribucí a kanálů, které chcete spravovat pomocí produktu {productname}. V tabulkách v této části najdete průvodce, jak odhadnout požadovanou velikost.

Pomocí tohoto příkazu na serveru {productname} vyhledejte všechna dostupná úložná zařízení:

----
hwinfo --disk | grep -E "Device File:"
----

Příkazem [command]``lsblk`` zobrazíte název a velikost každého zařízení.

Příkazem [command]``suma-storage`` s názvy zařízení nastavte umístění databáze a úložiště na externí disky:

----
suma-storage <channel_devicename> [<database_devicename>]
----

Svazky externího úložiště jsou nastaveny jako oddíly XFS připojené na [path] ``/manager_storage`` a [path] ``/pgsql_storage``.

Pro data kanálu i databázi lze použít stejné úložné zařízení. To se však nedoporučuje, protože rostoucí objemy úložišť kanálů mohou zaplnit paměť úložiště, což představuje riziko pro integritu databáze. Použití samostatných úložných zařízení může také zvýšit výkonnost. Chcete-li použít jediné úložné zařízení, spusťte [command]``suma-storage`` s parametrem jeho názvu.

Instalujete-li proxy, příkaz [command]``suma-storage`` použije jen jeden parametr názvu zařízení a nastaví umístění externího úložiště jako mezipaměť Squid.

Vytváříte-li diskové oddíly pro server a proxy {productname}, ujistěte se, že jste správně nastavili oprávnění.

Pro [path]``/var/lib/pgsql``:

* Owner: Read, Write, Execute (Vlastník: Číst, psát, spouštět)
* Group: Read, Execute (Skupina: Číst, spouštět)
* User: None (Uživatel: Nic)

Pro [path]``/var/spacewalk``:

* Owner: Read, Write, Execute (Vlastník: Číst, psát, spouštět)
* Group: Read, Write, Execute (Skupina: Číst, psát, spouštět)
* User: Read, Execute (Uživatel: Číst, spouštět)

Zkontrolujte oprávnění tímto příkazem:

----
ls -l /var/lib/pgsql /var/spacewalk
----

Výstup by měl vypadat takto:

----
drwxr-x--- 1 postgres postgres /var/lib/pgsql
drwxrwxr-x 1 wwwrun   www      /var/spacewalk
----

V případě potřeby změňte oprávnění těmito příkazy:

----
chmod 750 /var/lib/pgsql
chmod 775 /var/spacewalk
----

A vlastníky:

----
chown postgres:postgres /var/lib/pgsql
chown wwwrun:www /var/spacewalk
----
