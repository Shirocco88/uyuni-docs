[[cli-client-proxy]]
== コマンドラインで登録する(Salt)



{webui}の代わりに、コマンドラインを使用して、Saltクライアントをプロキシに登録できます。 このプロシージャでは、登録する前にSaltパッケージをSaltクライアントにインストール済みである必要があります。 SLE 12ベースのクライアントでは、[systemitem]``Advanced Systems Management``モジュールもアクティブ化しておく必要があります。

[NOTE]
====
コマンドラインで従来のクライアントを登録することもできますが、その手順は長くなります。 この手順についてはここでは説明しません。 ブートストラップスクリプトプロシージャを使用して従来のクライアントを登録します。 詳細については、xref:client-proxy-script.adoc[]を参照してください。
====



.プロシージャ: コマンドラインを使用してクライアントをプロキシに登録する

. 次の場所にあるクライアント設定ファイルを選択します。
+
----
/etc/salt/minion
----
+
または
+
----
/etc/salt/minion.d/NAME.conf
----
+
これはminionファイルと呼ばれることもあります。
. プロキシFQDNを`マスタ`としてクライアント設定ファイルに追加します。
+
----
マスタ: PROXY123.EXAMPLE.COM
----

. [systemitem]``salt-minion``サービスを再起動します。
+
----
systemctl restart salt-minion
----
. サーバで、新しいクライアントキーを受け入れます。[systemitem]``<client>``をクライアントの名前に置き換えます。
+
----
salt-key -a '<client>'
----
