[[power-management]]
= 電源管理

{productname}の{webui}を使用して、電源オン、電源オフ、およびクライアントの再起動を実行できます。

この機能は、IPMIまたはRedfishプロトコルを使用し、Cobblerプロファイルを使用して管理されます。 選択したクライアントには、これらのプロトコルのいずれかをサポートしている電源管理コントローラがある必要があります。

Redfishの場合、クライアントと{productname}サーバの間に有効なSSL接続を確立できることを確認してください。 Redfish管理コントローラのSSLサーバ証明書を署名するために使用される認証局を信頼している必要があります。 CA証明書は``.pem``フォーマットで、{productname}サーバの[path]``/etc/pki/trust/anchors/``に保存される必要があります。 証明書を保存したら、[command]``update-ca-certificate``を実行します。


.プロシージャ: 電源管理を有効にする
. {productname}の{webui}で、menu:システム[システム一覧]に移動し、管理するクライアントを選択し、menu:プロビジョニング[電源管理]タブに移動します。
. ［[guimenu]``タイプ``］フィールドで、使用する電源管理プロトコルを選択します。
. 電源管理サーバの詳細を入力し、適切なボタンをクリックしてアクションを実行し、［btn:[保存のみ]］をクリックし、アクションを実行せずに詳細を保存します。

電源管理アクションを複数のクライアントに同時に適用できます。そのためには、クライアントをシステムセットマネージャに追加します。 システムセットマネージャの使用法の詳細については、xref:client-configuration:system-set-manager.adoc[]を参照してください。



== 電源管理とCobbler

電源管理機能を初めて使用するとき、Cobblerシステムレコードが自動的に作成されます(まだクライアントに存在しない場合)。 自動作成されたシステムレコードは、ネットワークから起動できず、ダミーのシステムイメージへの参照が含まれています。 Cobblerがプロファイルまたはイメージのないシステムレコードを現時点でサポートしていないため、この参照は必要です。

Cobbler電源管理は、フェンスエージェントツールを使用して、IPMI以外のプロトコルをサポートしています。 {productname}では、IPMIプロトコルとRedfishプロトコルのみがサポートされています。 クライアントを設定して、その他のプロトコルを使用できます。そのためには、[path]``rhn.conf``設定ファイルの[option]``java.power_management.types``設定パラメータにフェンスエージェント名をカンマ区切りリストとして追加します。
