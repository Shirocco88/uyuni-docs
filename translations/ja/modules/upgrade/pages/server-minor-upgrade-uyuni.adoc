[server-minor-upgrade]
= サーバ - マイナーアップグレード

1年に数回、{productname}チームは、{productname}サーバのマイナーアップグレードをリリースします。 この更新は、バグ修正および機能の向上に対処し、新機能を導入する場合もあります。

[IMPORTANT]
====
追加の手動手順が必要な場合があります。この情報はリリースノートでのみ確認できます。 アップグレードの追加情報については、リリースノート(https://www.uyuni-project.org/pages/stable-version.html)を参照してください。
====

マイナーアップグレードの実行は、オペレーティングシステムパッケージの更新と似ています。

.プロシージャ: {productname}サーバのパッケージを更新する

デフォルトでは、複数の更新リポジトリが{productname}サーバ用に設定され、有効化されます。 新規および更新したパッケージは自動的に使用可能になります。

. {productname}サーバのコマンドプロンプトでrootとしてspacewalkサービスを停止します。
+
----
spacewalk-service stop
----
. 使用できるパッチをリストします。
+
----
zypper list-patches
----
. 適用可能なすべてのパッチを適用します。
+
----
zypper patch
----
+
このコマンドはパッチを適用するだけです。
  未適用の更新をすべて更新するには、代わりに[command]``zypper up``を使用します。
. spacewalkサービスを再起動します。
+
----
spacewalk-service start
----
+
パッチ更新が再起動を推奨している場合、再起動します。

[NOTE]
====
デフォルトでは、zypperは、10分ごとにリポジトリを更新します([path]``/etc/zypp/zypp.conf``の``repo.refresh.delay``を参照)。 ``autorefresh``は無効になっている場合、[command]``zypper ref``を実行してすべてのリポジトリを更新します。
====

[NOTE]
====

ifeval::[{suma-content} == true]
{productname} 4.1以降では、[command]``spacewalk-schema-upgrade``は不要になりました。
endif::[]

ifeval::[{uyuni-content} == true]
{productname} 2020.04以降では、[command]``spacewalk-schema-upgrade``は不要になりました。
endif::[]

スキーマのアップグレードは、[command]``spacewalk-service start``を使用してspacewalkサービスが開始されると自動的に実行されます。

====

[IMPORTANT]
====
パッケージの更新の影響を受けるサービスは更新後に自動で再起動されません。 これらのサービスは、潜在的な障害を回避するために、手動で再起動する必要があります。 [command]``zypper ps``を使用して、古いコードを使用していて再起動が必要なアプリケーションを確認してください。
====
