[[db-migration]]
= データベースのアップグレード

{productname}のメジャー更新を正常に実行するには、基盤となるデータベースをアップグレードする必要がある場合があります。

PostgreSQL 9を使用していて、バージョン10にアップグレードしている場合、xref:upgrade:db-migration-10.adoc[]を参照してください。 PostgreSQL 10を使用していて、バージョン12にアップグレードしている場合、xref:upgrade:db-migration-12.adoc[]を参照してください。

最新バージョンの{productname}にアップグレードする場合、PostgreSQLバージョン10または12を使用する必要があります。 バージョン9.6など古いバージョンを使用している場合、{productname}の移行を開始する前にPostgreSQLをバージョン10に移行する必要があります。

[IMPORTANT]
====
{productname} 3.2でPostgreSQL{nbsp}9.4を実行している場合、製品ドキュメント(https://documentation.suse.com/external-tree/en-us/suma/3.2/susemanager-best-practices/html/book.suma.best.practices/bp.sp.migration.html#sp.migration.postgresql)を参照してください。 PostgreSQL{nbsp}9.4からバージョン10に直接移行することはできません。
====



次の表は、{productname}および{SLES}の各バージョンで必要なPostgreSQLのバージョンを示しています。

[[postgres-version]]
.PostgreSQLのバージョン
[cols="1,1,1", options="header"]
|===

| {productname}のバージョン
|オペレーティングシステムのバージョン
 | PostgreSQLのバージョン
 
 | {productname} 3.1.4
 | SLES 12 SP3
 | Postgres 9.6
 
 | {productname} 3.1.11
 | SLES 12 SP3
 | Postgres 9.6
 
 | {productname} 3.2.10
 | SLES 12 SP3
 | Postgres 9.6
 
 | {productname} 3.2.10
 | SLES 12 SP3
 | Postgres 10
 
 | {productname} 3.2.10
 | SLES 12 SP4
 | Postgres 10
 
 | {productname} 4.0.0
 | SLES 15 SP1
 | Postgres 10
 
 | {productname} 4.1.0
 | SLES 15 SP2
 | Postgres 12
 
 | {productname} 4.2.0
 | SLES 15 SP3
 | Postgres 13

|===
