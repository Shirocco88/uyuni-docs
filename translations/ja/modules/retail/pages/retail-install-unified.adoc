[[install-server-unified]]
= Install with the Unified Installer

{productname} {smr} is a {suse} base product. This section describes how to install {productname} {smr} from {sles} installation media with the Unified Installer.


[NOTE]
====
Before installing {susemgr}, ensure your physical or virtual machine has enough disk space and RAM by checking the requirements at xref:retail-requirements.adoc[Hardware].
====



== Install {productname} {smr}



.Procedure: Installing {productname} {smr} Server from a DVD Image
. Boot your server from the installation image. If booting fails you might need to adjust the boot order in the BIOS.
. プロンプトが表示されたら、［[guimenu]``インストール``］を選択します。
. In the [guimenu]``Language, Keyboard and Product Selection`` screen, check the [guimenu]``SUSE Manager Server`` checkbox, and click btn:[Next].
+
image::unifiedinstaller-install.png[scaledwidth=80%]
. エンドユーザのライセンス条項を読んで同意し、［btn:[次へ]］をクリックします。
. ［[guimenu]``登録``］画面で、［[guimenu]``Register System via scc.suse.com（scc.suse.comでシステムを登録する）``］チェックボックスにチェックを付け、{scc}の資格情報を入力し、［btn:[次へ]］をクリックします。
. オプション: ［[guimenu]``Add On Product（アドオン製品）``］画面で、必要な追加製品およびアドオン製品を選択し、［btn:[次へ]］をクリックします。
. In the [guimenu]``System Role`` screen, check the [guimenu]``SUSE Manager for Retail Server`` checkbox, and click btn:[Next].
+
image::unifiedinstaller-system_role.png[scaledwidth=80%]
. In the [guimenu]``Suggested Partitioning`` screen, accept the default values, or use the btn:[Guided Setup] or btn:[Expert Partitioner] options to customize your partitioning model, and click btn:[Next].
. ［[guimenu]``Clock and Time Zone（クロックとタイムゾーン）``］画面で、地域とタイムゾーンを入力し、［btn:[次へ]］をクリックします。
. ［[guimenu]``Local Users（ローカルユーザ）``］画面で、新しいユーザを作成し、［btn:[次へ]］をクリックします。
. ［[guimenu]``システム管理者 "root"``］画面で、 "root"ユーザを作成し、［btn:[次へ]］をクリックします。
. Review the settings on the [guimenu]``Installation Settings`` screen. Ensure that SSH access is open.
. ［[guimenu]``Installation Settings（インストール設定）``］画面で、［btn:[インストール]］をクリックします。

When the installation procedure has finished, you can check that you have all the required modules by using the [command]``SUSEConnect --status-text`` command at a command prompt. For {productname} {smr} Server, the expected modules are:

* {sles}ベースシステムモジュール
* Python 2 Module
* Server Applications Module
* Web and Scripting Module
* SUSE Managerサーバモジュール


.Procedure: Running the Setup Script on the {productname} {smr} Server
. On the {productname} {smr} Server, at the command prompt, as root, run the setup script:
+
----
yast2 susemanager_setup
----
. Follow the prompts to set up your account. Take note of the passwords you set, you will need them later on.

Continue with general {productname} configuration and channel synchronization at xref:installation:server-setup.adoc[].


== Install {productname} {smr} Branch Server


.Procedure: Installing the Branch Server from a DVD Image
. Boot your server from the installation image. In case of trouble, you might need to adjust the boot order in the BIOS.
. プロンプトが表示されたら、［[guimenu]``インストール``］を選択します。
. In the [guimenu]``Language, Keyboard and Product Selection`` screen, check the [guimenu]``SUSE Manager Retail Branch Server`` checkbox, and click btn:[Next].
+
image::unifiedinstaller-install_branch.png[scaledwidth=80%]
. エンドユーザのライセンス条項を読んで同意し、［btn:[次へ]］をクリックします。
. ［[guimenu]``登録``］画面で、［[guimenu]``Register System via scc.suse.com（scc.suse.comでシステムを登録する）``］チェックボックスにチェックを付け、{scc}の資格情報を入力し、［btn:[次へ]］をクリックします。
. オプション: ［[guimenu]``Add On Product（アドオン製品）``］画面で、必要な追加製品およびアドオン製品を選択し、［btn:[次へ]］をクリックします。
. ［[guimenu]``System Role（システムロール）``］画面で、［[guimenu]``SUSE Manager Proxy``］チェックボックスにチェックを付け、［btn:[次へ]］をクリックします。
+
image::unifiedinstaller-system_role_branch.png[scaledwidth=80%]
. In the [guimenu]``Suggested Partitioning`` screen, accept the default values, or use the btn:[Guided Setup] or btn:[Expert Partitioner] options to customize your partitioning model, and click btn:[Next].
. ［[guimenu]``Clock and Time Zone（クロックとタイムゾーン）``］画面で、地域とタイムゾーンを入力し、［btn:[次へ]］をクリックします。
. ［[guimenu]``Local Users（ローカルユーザ）``］画面で、新しいユーザを作成し、［btn:[次へ]］をクリックします。
. ［[guimenu]``システム管理者 "root"``］画面で、 "root"ユーザを作成し、［btn:[次へ]］をクリックします。
. Review the settings on the [guimenu]``Installation Settings`` screen. Ensure that SSH access is open.
. ［[guimenu]``Installation Settings（インストール設定）``］画面で、［btn:[インストール]］をクリックします。

When the installation procedure has finished, you can check that you have all the required modules by using the [command]``SUSEConnect --status-text`` command at a command prompt. For Branch Server, the expected modules are:

* {sles}ベースシステムモジュール
* Python 2 Module
* Server Applications Module
* Web and Scripting Module
* SUSE Manager Proxy Module
* SUSE Manager Retail Branch Server Module



.Procedure: Configuring and Registering the Branch Server
. Create an activation key based on the [systemitem]``SLE-Product-SUSE-Manager-Retail-Branch-Server-4.1-Pool`` base channel. For more information about activation keys, see xref:client-configuration:activation-keys.adoc[].
. In the [guimenu]``Child Channels`` listing, select the recommended channels by clicking the ``include recommended`` icon:
+
* SLE-Module-Basesystem15-SP2-Pool for x86_64 SMRBS 4.1
* SLE-Module-Basesystem15-SP2-Updates for x86_64 SMRBS 4.1
* SLE-Module-Server-Applications15-SP2-Pool for x86_64 SMRBS 4.1
* SLE-Module-Server-Applications15-SP2-Updates for x86_64 SMRBS 4.1
* SLE-Product-SUSE-Manager-Retail-Branch-Server-4.1-Updates for x86_64
. Use this activation key in {productname} Proxy registration at xref:installation:proxy-registration.adoc[].
. Configure {productname} Proxy. For more information on how to do this, see xref:installation:proxy-setup.adoc[].


[WARNING]
====
The branch server must be configured as a Salt managed proxy.
====


[NOTE]
====
Cobbler TFTP is not supported on {productname} {smr}. Do not configure the [package]``susemanager-tftpsync-recv`` tool on the {productname} {smr} Branch Server.
====



== Install {productname} {smr} Build Host

Build hosts are regular {sles} installations registered to {productname} as Salt clients. For more information on how to install and register Salt clients to {productname}, see xref:client-configuration:registration-overview.adoc[].

On how to prepare a build host from an already registered Salt client, see xref:administration:image-management.adoc#at.images.kiwi.buildhost[].
