[[proxy-register]]
= SUSE Manager Proxy 注册

可以使用引导脚本将 {productname} Proxy 系统注册为 Salt 客户端或传统客户端。传统代理无法迁移为 Salt 代理。

如果您要将传统代理转变为 Salt 代理，需要重新注册代理。有关重新安装代理的详细信息，请参见 xref:installation:proxy-setup.adoc#replace-susemgrproxy[]。


本过程说明如何设置软件频道，以及如何使用激活密钥将安装的代理注册为 {productname} 客户端。

[IMPORTANT]
====
请确保所选的 {productname} Proxy 用户名或口令不包含 ``@`` 或 ``:`` 字符。这些字符是保留的字符。
====


[IMPORTANT]
====
确保下载整个 {productname} Proxy {productnumber} 频道以及所有建议的和必需的 {sle} {sles-version} {sp-version} 频道，这样才能在创建激活密钥时选择正确的子频道。
====

[[proxy-register-procedure]]
.过程：注册代理
. 基于 [systemitem]``SLE-Product-SUSE-Manager-Proxy-4.1-Pool`` 基础频道创建激活密钥。
    有关激活密钥的详细信息，请参见 xref:client-configuration:activation-keys.adoc[]。
+

.代理激活密钥
image::proxy-key.png[]

. 在[guimenu]``子频道``列表中，单击``包括建议的项``图标选择建议的频道：
+
* SLE-Module-Basesystem15-SP2-Pool
* SLE-Module-Basesystem15-SP2-Updates
* SLE-Module-Server-Applications15-SP2-Pool
* SLE-Module-Server-Applications15-SP2-Updates
* SLE-Module-SUSE-Manager-Proxy-4.1-Pool
* SLE-Module-SUSE-Manager-Proxy-4.1-Updates
+
[systemitem]``SLE-Product-SUSE-Manager-Proxy-4.1-Updates`` 频道是必需的。
+

.基础频道和子代理频道
image::proxy-child.png[]
+
. 根据需要修改代理的引导脚本。
    如果您要在传统客户端（``管理``系统类型）上运行代理，请取消选中[guimenu]``使用 Salt 引导``。使用 Salt 是默认设置。有关引导脚本的详细信息，请参见 xref:client-configuration:registration-bootstrap.adoc[]。
+

.修改引导脚本
image::proxy-bootstrap.png[]

. 使用引导脚本引导客户端。
. 对于 Salt 客户端，请选中相应的复选框接受 menu:Salt[密钥]页上的密钥。
    接受后，该密钥将显示在menu:系统[概览]中。
. 导航到menu:系统细节[软件 > 软件频道]，检查四个代理频道（[systemitem]``SLE-PRODUCT`` 和 [systemitem]``SLE-MODULE`` 的 [systemitem]``Pool`` 和 [systemitem]``Updates``）以及建议的频道是否已选中。
    [systemitem]``SLE-PRODUCT-Pool`` 必须是基础频道，其他频道是子频道。
+

.代理频道
image::sles15-proxy-channels.png[]

继续设置已注册的 {productname} Proxy：xref:proxy-setup.adoc[]。
