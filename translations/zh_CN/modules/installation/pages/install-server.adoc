[[install-server]]
= 安装 {productname} Server


本章提供将 {sles} 媒体安装为 {productname} 基础所需的 KVM 设置。将使用一个结合了虚拟机管理器 ([command]``virt-manager``) 的内核虚拟机 (KVM) 作为此项安装的沙箱。

== SLES KVM 要求


使用 [command]``virt-manager``（请将 [replaceable]``version`` 替换为实际版本字符串）创建新虚拟机时，请输入以下设置：

[cols="1,1", options="header"]
|===
| SLES 的 KVM 设置
| 安装方法：| 本地安装媒体（ISO 映像或 CDROM）
| 操作系统：                  | Linux
| 版本：             |``SLE-[replaceable]``version``-Server-x86_64-GM-DVD1.iso``
| 内存：              | 4096{nbsp}MB
| CPU 数：                | 2
| 储存格式：      | ISO 3{nbsp}GB
| 磁盘空间：          | 234{nbsp}GB，分摊方式如下：4{nbsp}GB 交换空间，装入到 [path]``/var/spacewalk/``
|                      |的 130{nbsp}GB（虚拟磁盘 1），装入到 [path]``/var/lib/pgsql``
|                      |的 50{nbsp}GB（虚拟磁盘 2）。余下的空间用于根分区 (100{nbsp}GB+)。
| 名称：                | example-server
| 网络              | 网桥 br0
|===

[[sles.installation.within.kvm.media]]
=== SLES KVM 设置


本节提供有关利用完整安装媒体以及 KVM 和 [command]``virt-manager`` 安装 {productname} 的指导。本节假设您已事先在 SCC 中设置一个帐户，并已下载 SLES 完整安装媒体。

.过程：准备 SLES 安装
. 在 [command]``virt-manager`` 中选择menu:文件[新建虚拟机]。

. 选择 btn:[本地安装媒体（ISO 映像或 CDROM）]。

. 确保已选择 btn:[使用 ISO 映像]，然后单击 btn:[浏览] 并找到您在 SCC 帐户中下载的完整 SLES 映像。

. 为您的计算机至少配置 4096 MB 和 2 个 CPU。

. 创建一个储存设备，其中最少可为安装提供 234 GB 储存空间。
    在对 SLES 安装进行分区设置期间，此磁盘应分区成以下磁盘：
+

[cols="1", options="header"]
|===
| 磁盘空间要求
|4{nbsp}GB 交换空间
| 为 [path]``/var/spacewalk/`` 提供 130{nbsp}GB XFS 分区（或专用虚拟磁盘）
| 为 [path]``/var/lib/pgsql/`` 提供 50{nbsp}GB XFS 分区（或专用虚拟磁盘）
|===

. 剩余的储存空间将由根分区的操作系统使用。
    选择 btn:[完成] 开始安装。


{sles} 安装随即开始。有关完成 {sles} 安装的详细信息，请参见：https://documentation.suse.com/sles/15-SP2/html/SLES-all/art-sle-installquick.html。

[[quickstart3.sec.suma.installation.sles.sumaext]]
== 选择 {productname} 扩展

. 在安装 {sles} 期间，会出现[systemitem]``扩展和模块选择``屏幕。
+
[NOTE]
====
如果您在安装过程开始时跳过了注册步骤，则不会显示此屏幕。请确保您已在 {suse} 中注册并已登录。
====
+
. 选择 {productname} 扩展，然后单击 btn:[下一步] 按钮。

. 完成 {sles} 安装。

image::manager-extension.png[scaledwidth=80%]
