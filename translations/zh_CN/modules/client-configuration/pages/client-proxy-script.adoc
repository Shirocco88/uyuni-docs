[[script-client-proxy]]
= 使用引导脚本注册（Salt 和传统）


您可以使用引导脚本通过 {productname} 代理注册 Salt 客户端或传统客户端。 这与直接将客户端注册到 {productname} 服务器的过程基本相同。 不同之处在于，您需要在 {productname} 代理上使用命令行工具创建引导脚本。 然后，引导脚本会将所有必要信息部署到客户端。 引导脚本需要一些参数，例如激活密钥或 GPG 密钥。 这些参数取决于您的特定设置。



.过程：使用引导脚本将客户端注册到代理

. 在 {productname} 服务器上，使用 {webui} 创建客户端激活密钥。
    有关详细信息，请参见 xref:client-configuration:activation-keys.adoc[]。
. 在代理上，以 {rootuser} 身份执行 [command]``mgr-bootstrap`` 命令行工具。
    如果需要，请使用其他命令行开关来微调您的引导脚本。 要安装传统客户端而不是 Salt 客户端，请务必使用 [command]``--traditional`` 开关。
+
要从命令行查看可用选项类型 [command]``mgr-bootstrap --help``，请执行以下命令：
+
----
mgr-bootstrap --activation-keys=key-string
----
+
. 可选：编辑生成的引导脚本。
. 直接在客户端上执行引导脚本，或从代理上使用 [command]``ssh`` 来执行。 使用引导脚本的名称替换 [systemitem]``<bootstrap>``，使用您客户端的主机名替换 [systemitem]``<client.example.com>``：
+
----
cat <bootstrap> | ssh root@<client.example.com> /bin/bash
----

