[[virtualization]]
= 虚拟化

除了普通的传统客户端或 Salt 客户端外，您还可以使用 {productname} 管理虚拟化客户端。 在这种安装中，会在 {productname} 服务器上安装一个虚拟主机来管理任意数量的虚拟 Guest。 您可以安装多个虚拟主机来管理多组 Guest（如果您选择这么做）。

虚拟化客户端具有的功能范围取决于您选择的第三方虚拟化提供者。

您可以直接在 {productname} 中管理 Xen 和 KVM 主机及 Guest。 采用这种方式，您可以使用 {ay} 或 {kickstart} 自动安装主机和 Guest，并在 {webui} 中管理 Guest。

此外，您也可以在 {productname} {webui} 中导航到menu:群集[概览]来管理 {caasp} 群集。

对于 VMWare（包括 VMWare vSphere）和 Nutanix AHV，{productname} 需要您设置虚拟主机管理器 (VHM) 来控制 VM。 这样您便能够控制主机和 Guest，但与使用 Xen 和 KVM 相比，控制程度会较为受限。


{productname} 不直接支持其他第三方虚拟化提供者。 不过，如果您的提供者允许您导出 VM 的 JSON 配置文件，您可以将该配置文件上载到 {productname} 并使用 VHM 进行管理。

有关使用 VHM 来管理虚拟化的详细信息，请参见 xref:client-configuration:vhm.adoc[]。



== 管理虚拟化主机

开始前，请确保已为要用作虚拟化主机的客户端指派``虚拟化主机``系统类型。 传统客户端和 Salt 客户端均可用作虚拟主机。 导航到menu:系统[系统列表]，然后单击要用作虚拟化主机的客户端的名称。 [guimenu]``系统属性``部分会列出系统类型。 如果未列出``虚拟化主机``系统类型，请单击 btn:[编辑这些属性] 指派该系统类型。

客户端具有``虚拟化主机``系统类型后，该客户端的“系统细节”页面中便会显示[guimenu]``虚拟化``选项卡。 [guimenu]``虚拟化``选项卡可用于创建和管理虚拟 Guest，以及管理储存池和虚拟网络。



== 创建虚拟 Guest

您可以在 {productname} {webui} 中向虚拟化主机添加虚拟 Guest。



.过程：创建虚拟 Guest
. 在 {productname} {webui} 中，导航到menu:系统[系统列表]，单击虚拟化主机的名称，然后导航到[guimenu]``虚拟化``选项卡。
. 在[guimenu]``常规``部分，填写以下细节：
+
* 在 [guimenu]``Guest`` 子选项卡中，单击 btn:[创建 Guest]。
* 在[guimenu]``名称``字段中，键入 Guest 的名称。
* 在[guimenu]``超级管理程序``字段中，选择要使用的超级管理程序。
* 在[guimenu]``虚拟机类型``字段中，选择全虚拟化或半虚拟化。
* 在[guimenu]``最大内存``字段中，以 MiB 为单位键入 Guest 磁盘的大小上限。
* 在[guimenu]``虚拟 CPU 计数``中，键入 Guest 的 vCPU 数量。
* 在[guimenu]``体系结构``字段中，选择要在 Guest 上使用的模拟 CPU 体系结构。 默认会选择与虚拟主机匹配的体系结构。
* 在[guimenu]``自动安装配置文件``字段中，选择要用于安装 Guest 的自动安装工具。 如果不想使用自动安装，请将此字段留空。
. 在[guimenu]``磁盘``部分，填写要用于客户端的虚拟磁盘的细节。 在[guimenu]``源模板映像 URL`` 字段中，务必键入操作系统映像的路径。 如果不这么做，创建的 Guest 的磁盘将会是空磁盘。
. 在[guimenu]``网络``部分，填写要用于客户端的虚拟网络接口的细节。 将 [guimenu]``MAC 地址``字段留空以生成 MAC 地址。
. 在[guimenu]``显卡``部分，填写要用于客户端的显卡驱动程序的细节。
. 安排创建 Guest 的时间，然后单击 btn:[创建] 以创建 Guest。
. 新虚拟 Guest 在成功创建后会立即启动。



ifeval::[{suma-content} == true]

== SUSE 支持和 VM 区域

公有云提供商使用地区来定义提供虚拟机的数据中心的实际地理位置。 例如，[systemitem]``美国东部``或[systemitem]``亚洲``。

地区又可以划分为多个区域。 例如，[systemitem]``美国东部``地区可能包含 [systemitem]``us-east-2a`` 和 [systemitem]``us-east-2b`` 等多个区域。

{suse} 使用虚拟机的区域来确定要提供的适当订阅。 如果您的所有 VM 均由同一区域提供，您便符合 ``1-2 虚拟机``订阅的条款和条件。

如果您的 VM 是由不同区域提供的，那么即使它们在同一地区内，您可能也不符合 ``1-2 虚拟机``订阅的条件。 在这种情况下，请仔细检查您的订阅。

[NOTE]
====
对于 BYOS（自带订阅）实例，所有安装的产品均会传递给订阅匹配器。 如果您的公有云实例为 PAYG（随用随附）类型，将会从订阅匹配器计算中排除这些实例的基础产品。

计算实例是 PAYG 还是 BYOS 类型的过程在注册时或执行硬件刷新操作时完成。
====

有关详细信息，请参见 https://www.suse.com/products/terms_and_conditions.pdf 或联系 {suse}。

endif::[]
