[[cli-client-proxy]]
== 在命令行上注册 (Salt)



除了 {webui} 以外，您也可以使用命令行将 Salt 客户端注册到代理。 要执行此过程，您需要在注册前于 Salt 客户端上安装 Salt 软件包。 对于基于 SLE 12 的客户端，您还需要激活[systemitem]``高级系统管理``模块。

[NOTE]
====
您也可以在命令行上注册传统客户端，但这需要执行更多步骤。 本指南中将不讨论。 请使用引导脚本过程注册传统客户端。 有关详细信息，请参见 xref:client-proxy-script.adoc[]。
====



.过程：使用命令行将客户端注册到代理

. 选择位于以下位置的客户端配置文件：
+
----
/etc/salt/minion
----
+
或
+
----
/etc/salt/minion.d/NAME.conf
----
+
该文件有时也称为受控端文件。
. 将代理 FQDN 作为 `master` 添加到客户端配置文件：
+
----
master: PROXY123.EXAMPLE.COM
----

. 重启动 [systemitem]``salt-minion`` 服务：
+
----
systemctl restart salt-minion
----
. 在服务器上，接受新客户端密钥（将 [systemitem]``<client>`` 替换为您客户端的名称）：
+
----
salt-key -a '<client>'
----
